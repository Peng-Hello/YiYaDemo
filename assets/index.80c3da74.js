import{o as b,c as _,a as $,n as v,b as I,r as m,d as h,e as d,u as p,f as j,k as g,H as z,g as L,w as k,v as P,h as f,i as Y,j as M,F as D,l as G,K as U,m as Q,p as X,q as Z}from"./vendor.bd64f37a.js";const ee=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const l of t)if(l.type==="childList")for(const s of l.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(t){const l={};return t.integrity&&(l.integrity=t.integrity),t.referrerpolicy&&(l.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?l.credentials="include":t.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(t){if(t.ep)return;t.ep=!0;const l=n(t);fetch(t.href,l)}};ee();var K=(o,e)=>{const n=o.__vccOpts||o;for(const[i,t]of e)n[i]=t;return n};const te={},ne={class:"w-full h-44 relative"},le=$('<img src="http://121.37.90.57:3000/api/random/img" alt="" class="min-w-full w-full sm:h-full sm:w-full sm:object-cover absolute"><div class="absolute sm:-bottom-3.5 -bottom-1/3 w-2/3 flex" style="left:20%;"><div class="text-7xl">\u{1F600}</div><div class="ml-6"><input id="title" type="text" class="outline-none bg-transparent sm:text-3xl text-white w-3/4 text-xl"><input id="tag" type="text" class="outline-none bg-transparent text-xs text-white"></div></div>',2),oe=[le];function ie(o,e){return b(),_("div",ne,oe)}var se=K(te,[["render",ie]]);let ae={dataList:[[{component:"inputbox",savePart:'<div style="text-align: center;"><span style="background-color: rgb(255 255 255 / var(--tw-bg-opacity));"><font size="7">\u6B22\u8FCE\u4F7F\u7528 YiYa \u7F16\u8F91\u5668 \u{1F44F}</font></span></div>'}],[{component:"inputbox",savePart:'<b><font size="4">\u4E00. \u7B80\u4ECB&nbsp;</font></b><font size="4"><b>\u{1F440}</b></font>'}],[{component:"inputbox",savePart:"YiYa \u7F16\u8F91\u5668\u662F\u4F7F\u7528 Vite+Vue3+Tailwind \u6765\u6784\u5EFA\u7684\u4E00\u6B3E\u5F00\u6E90\u7684\u7F16\u8F91\u5668\u3002\u9002\u7528\u4E8E\u6A21\u5757\u5316\u7B14\u8BB0\uFF0C\u535A\u5BA2\u6587\u7AE0\u7684\u64B0\u5199\u3002\u5B83\u4E0D\u540C\u4E8E\u4F20\u7EDF\u7684\u5BCC\u6587\u672C\u7F16\u8F91\u5668\u3002\u5B83\u7684\u4E3B\u8981\u7684\u597D\u5904\u5728\u4E8E\u652F\u6301\u62D6\u62FD\uFF08\u5FEB\u901F\uFF0C\u7075\u6D3B\u7684\u5E03\u5C40\uFF09\uFF0C\u81EA\u5B9A\u4E49\u7EC4\u4EF6\uFF08\u6EE1\u8DB3\u5404\u79CD\u5DE5\u4F5C\u573A\u666F\uFF09\u3002\u5B83\u7684\u8BBE\u8BA1\u7075\u611F\u4E3B\u8981\u6765\u81EA\u4E8E Notion \u3002"}],[{component:"inputbox",savePart:""}],[{component:"inputbox",savePart:'<b><font size="4">\u4E8C. \u6211\u4EEC\u7684\u4F18\u52BF&nbsp;</font></b><font size="4"><b>\u2728</b></font>'}],[{component:"ol",savePart:'<div contenteditable="true" class="outline-none h-full w-full"><ol class="list-decimal"><li>&nbsp;\u9002\u914D\u79FB\u52A8\u7AEF\uFF01</li><li>\u4EE5Json\u8F93\u51FA</li><li>\u597D\u770B\u7684Banner</li><li>&nbsp;\u652F\u6301\u62D6\u62FD\uFF0C\u5B9E\u73B0\u9AD8\u6548\u7684\u7075\u6D3B\u7684\u6392\u7248\uFF0C\u63D0\u9AD8\u5DE5\u4F5C\u6548\u7387\u3002<br></li><li>&nbsp;\u652F\u6301\u81EA\u5B9A\u4E49\u7EC4\u4EF6\uFF0C\u6EE1\u8DB3\u5404\u79CD\u5DE5\u4F5C\u573A\u666F</li><li>&nbsp;\u81EA\u7531\uFF0C\u4E2A\u6027\u5316\u3002\u901A\u8FC7\u914D\u7F6E\u6587\u4EF6\u66F4\u6539\u5FEB\u6377\u952E\uFF0C\u771F\u6B63\u5B9E\u73B0\u4E2A\u6027\u5316\u3002</li></ol></div>'}],[{component:"inputbox",savePart:""}],[{component:"inputbox",savePart:'<b><font size="4">\u4E09. \u5FEB\u901F\u5F00\u59CB&nbsp;</font></b><font size="4"><b>\u{1F3C3}</b></font>'}],[{component:"inputbox",savePart:"<b>3.1 \u57FA\u7840\u529F\u80FD\u7684\u5FEB\u6377\u952E</b>"}],[{component:"inputbox",savePart:"1. \u6DFB\u52A0\u8F93\u5165\u5757 <b>\u5FEB\u6377\u952E</b>\uFF1A' <b>shift+enter </b>'<div><br></div>"},{component:"inputbox",savePart:"2.&nbsp;\u62D6\u52A8\u8F93\u5165\u5757 <b>\u5FEB\u6377\u952E</b>\uFF1A' <b>\u6309\u4F4F alt \u4E0D\u653E\u4EE5\u5F00\u59CB\u62D6\u52A8</b> '"}],[{component:"inputbox",savePart:`3.&nbsp;\u91CD\u70B9\u6807\u6CE8 \u5FEB\u6377\u952E\u5982\u4E0B<div><div><span style="background-color: yellow;">\u6807\u9EC4</span> <b>\u5FEB\u6377\u952E</b>\uFF1A ' <b>alt+y</b> '</div><div><span style="background-color: deepskyblue;">\u6807\u84DD</span> <b>\u5FEB\u6377\u952E</b>\uFF1A ' <b>alt+b</b> '</div><div><span style="background-color: orange;">\u6807\u6A59</span> <b>\u5FEB\u6377\u952E</b>\uFF1A ' <b>alt+o</b> '</div></div><div><br></div>`},{component:"inputbox",savePart:"4.&nbsp;\u6587\u5B57\u5E03\u5C40 \u5FEB\u6377\u952E\u5982\u4E0B<div><div>\u5C45\u5DE6\u6587\u5B57 <b>\u5FEB\u6377\u952E</b>\uFF1A' <b>ctrl+j</b> '</div><div>\u5C45\u4E2D\u6587\u5B57 <b>\u5FEB\u6377\u952E</b> \uFF1A' <b>ctrl+k</b> '</div><div>\u5C45\u53F3\u6587\u5B57 <b>\u5FEB\u6377\u952E</b>\uFF1A' <b>ctrl+l</b> '</div></div>"}],[{component:"inputbox",savePart:"5.&nbsp;\u52A0\u7C97\u9009\u4E2D <b>\u5FEB\u6377\u952E</b>\uFF1A' <b>ctrl+b</b> '"},{component:"inputbox",savePart:"6.&nbsp;\u79FB\u9664\u6837\u5F0F <b>\u5FEB\u6377\u952E</b>\uFF1A\u2019 <b>shift+space</b> \u2018 ( tip: \u8FD9\u4E2A\u53EF\u4EE5\u53BB\u9664\u6240\u753B\u7684\u6807\u6CE8 )"}],[{component:"inputbox",savePart:"7. <u>\u753B\u7EBF </u><b>\u5FEB\u6377\u952E</b>\uFF1A' <b>ctrl+u</b> '<div><br></div>"},{component:"inputbox",savePart:"8. <strike>\u5220\u9664\u7EBF</strike> <b>\u5FEB\u6377\u952E</b>\uFF1A' <b>alt+d</b> '"}],[{component:"inputbox",savePart:`9. <span style="background-color: yellow;">\u5B57\u4F53\u7684\u9009\u62E9 \u5FEB\u6377\u952E\u5982\u4E0B</span><div><font size="7">7\u53F7\u5B57\u4F53 <b>\u5FEB\u6377\u952E</b>\uFF1A' <b>alt+7</b> '</font></div><div><font size="6">6\u53F7\u5B57\u4F53 <b>\u5FEB\u6377\u952E</b>\uFF1A' <b>alt+6</b> '</font></div><div><font size="5">5\u53F7\u5B57\u4F53 <b>\u5FEB\u6377\u952E</b>\uFF1A' <b>alt+5</b>&nbsp;<span style="background-color: rgb(248 250 252 / var(--tw-bg-opacity));">'</span></font></div><div><span style="background-color: rgb(248 250 252 / var(--tw-bg-opacity));"><font size="4">4\u53F7\u5B57\u4F53 <b>\u5FEB\u6377\u952E</b>\uFF1A' <b>alt+4</b> '</font></span></div><div><span style="background-color: rgb(248 250 252 / var(--tw-bg-opacity));">3\u53F7\u5B57\u4F53 <b>\u5FEB\u6377\u952E</b>\uFF1A' <b>alt+3</b> '</span></div><div><span style="background-color: rgb(248 250 252 / var(--tw-bg-opacity));"><font size="2">2\u53F7\u5B50\u4F53 <b>\u5FEB\u6377\u952E</b>\uFF1A' <b>alt+2</b> '</font></span></div><div><span style="background-color: rgb(248 250 252 / var(--tw-bg-opacity));"><font size="1">1\u53F7\u5B57\u4F53 <b>\u5FEB\u6377\u952E</b>\uFF1A' <b>alt+1</b> '</font></span></div><div><span style="background-color: rgb(248 250 252 / var(--tw-bg-opacity));"><font size="1"><br></font></span></div>`}],[{component:"inputbox",savePart:"<b>3.2 \u4F7F\u7528\u547D\u4EE4\u52A0\u8F7D\u81EA\u5B9A\u4E49\u7EC4\u4EF6</b>"}],[{component:"inputbox",savePart:`\u8BF4\u660E\uFF1A\u8F93\u5165\u5757\u4E0D\u4EC5\u4EC5\u53EF\u4EE5\u5145\u5F53\u6587\u5B57\u7684\u8F7D\u4F53\uFF0C\u5B83\u8FD8\u652F\u6301\u4F7F\u7528\u547D\u4EE4\uFF01<b>\u8BED\u6CD5\uFF1A' / '+' \u4F60\u9700\u8981\u52A0\u8F7D\u7684\u7EC4\u4EF6\u540D</b>\uFF08<span style="background-color: yellow;">\u4E0D\u5FC5\u533A\u5206\u5927\u5C0F\u5199</span>\uFF09'`}],[{component:"inputbox",savePart:"\u8865\u5145: \u76EE\u524D\u9884\u5236\u7684\u7EC4\u4EF6\u5F88\u5C11\uFF08 \u65E5\u540E\u6211\u4E5F\u4F1A\u53BB\u7F16\u5199\u66F4\u591A\u7684\u7EC4\u4EF6\u7684\uFF09"}],[{component:"inputbox",savePart:"1. \u4F7F\u7528' <b>/ol</b> ' \u52A0\u8F7D \u6709\u5E8F\u5217\u8868\u7EC4\u4EF6 ( Tip:<u> \u8F93\u5B8C\u547D\u4EE4\u6309 ' shift+\u56DE\u8F66 ' \u8FDB\u884C\u786E\u8BA4</u>)\u3002 \u5982\uFF1A"}],[{component:"ol",savePart:'<div contenteditable="true" class="outline-none h-full w-full"><ol class="list-decimal"><li>&nbsp;Test 1</li><li>&nbsp;Test 2</li><li>&nbsp;Test 3</li></ol></div>'}],[{component:"inputbox",savePart:`2. " \u5C45\u4E2D\u76D2\u5B50 "&nbsp; \u4E3B\u8981\u7528\u6765\u5C45\u4E2D\u56FE\u7247\uFF0C\u6587\u5B57\u3002\u547D\u4EE4\uFF1A' <b>/interval</b> ' \u6F14\u793A\uFF1A\uFF08Tip : \u505A\u8FD9\u4E2A\u7EC4\u4EF6\u4E3B\u8981\u662F\u4E3A\u4E86\u5C45\u4E2D\u56FE\u7247\u3002\u5982\u679C\u8981\u5C45\u4E2D\u6587\u5B57\u5EFA\u8BAE\u4F7F\u7528 ' ctrl+k '\uFF09`}],[{component:"interval",savePart:'<div class="w-full h-full flex justify-center"><div id="box" contenteditable="true" class="outline-none h-full" style="width: 586.5px;"><span style="text-align: center;">\u8FD9\u91CC\u4E5F\u53EF\u4EE5\u628A\u622A\u56FE\u7C98\u8D34\u8FDB\u6765</span></div></div>'}],[{component:"inputbox",savePart:""}],[{component:"inputbox",savePart:'<span style="background-color: rgb(255, 255, 255);"><b><font size="4">\u56DB . \u53EF\u80FD\u5B58\u5728\u7684\u95EE\u9898&nbsp;</font></b></span><font size="4"><b>\u{1F41E}</b></font>'}],[{component:"ol",savePart:'<div contenteditable="true" class="outline-none h-full w-full"><ol class="list-decimal"><li>\u53EF\u80FD\u6709\u65F6\u5019\u8F93\u5165\u5757\uFF0C\u7EC4\u4EF6\u7684\u5BBD\u5EA6\u6CA1\u6709\u6765\u5F97\u53CA\u66F4\u65B0\u3002\u6B64\u65F6\u5EFA\u8BAE\u62D6\u4E00\u4E0B\u7EC4\u4EF6\u89E6\u53D1\u91CD\u65B0\u66F4\u65B0\u5BBD\u5EA6\u3002</li><li>\u7EC4\u4EF6\u5C11\u7684\u53EF\u601C\u3002\u5BF9\u89C6\u9891\uFF0C\u56FE\u7247\u4E0A\u4F20\uFF0C\u7B49\u7B49\u529F\u80FD\u505A\u7684\u4E0D\u8FD8\u4E0D\u591F\u3002\uFF08\u4E3B\u8981\u901A\u8FC7\u81EA\u5B9A\u4E49\u7EC4\u4EF6\u6765\u5B8C\u6210\uFF09</li><li>\u79FB\u52A8\u7AEF\u53EF\u80FD\u6709\u90E8\u5206\u673A\u578B\u9002\u914D\u4E0D\u597D\u3002</li><li>\u672A\u77E5\u7684 Bug\u3002</li></ol></div>'}],[{component:"inputbox",savePart:""}],[{component:"inputbox",savePart:'<b><font size="4">\u4E94. \u6CE8\u610F\u4E8B\u9879&nbsp;</font></b><font size="4"><b>\u2764\uFE0F</b></font>'}],[{component:"inputbox",savePart:"<div>1. \u7531\u4E8E\u8BE5\u9879\u76EE\u6BD4\u8F83\u65B0\uFF0C\u5728\u7EC4\u4EF6\u65B9\u9762\u6BD4\u8F83\u5C11\u3002\u6211\u76F8\u4FE1\u968F\u7740\u65F6\u95F4\u7684\u63A8\u79FB\uFF0C\u7EC4\u4EF6\u4F1A\u4E30\u5BCC\u8D77\u6765\u7684\u3002\u8FD9\u9700\u8981\u4F60\u6211\u7684\u5171\u540C\u52AA\u529B\u3002</div><div>2. \u98DF\u7528\u65F6\uFF0C\u8BF7\u4ED4\u7EC6\u9605\u8BFB README \u6587\u6863\uFF0C\u907F\u514D\u5728\u5F00\u53D1\u81EA\u5B9A\u4E49\u7EC4\u4EF6\u65F6\u9047\u5230\u91CD\u5927\u9519\u8BEF\u3002</div><div>3. \u76EE\u524D\u8FD9\u9879\u76EE\u8FD8\u4E0D\u591F\u6210\u719F\uFF0C\u4E0D\u53EF\u907F\u514D\u5730\u4F1A\u6709\u633A\u591A Bug \u7684\u3002\u5982\u6709\u53D1\u73B0\u53EF\u4EE5 \u53D1\u4E2A issue \u7ED9\u6211\uFF0C\u5728\u8FD9\u91CC\u8C22\u8C22\u5927\u5BB6\u4E86\uFF01</div>"}],[{component:"inputbox",savePart:""}],[{component:"inputbox",savePart:""}],[{component:"inputbox",savePart:""}],[{component:"inputbox",savePart:""}]]};var H={hotkeySettings:{allow_drag_key:"alt",base:[{cmd:"backColor",valList:["orange","crimson","deepskyblue","yellow"],hotKey:["alt+o","alt+r","alt+b","alt+y"]},{cmd:"foreColor",valList:["orange","crimson","deepskyblue","yellow","black","white"],hotKey:["esc+o","esc+r","esc+b","esc+y","esc+z","esc+w"]},{cmd:"bold",hotKey:"ctrl+b"},{cmd:"italic",hotKey:"ctrl+i"},{cmd:"removeFormat",hotKey:"shift+space"},{cmd:"strikeThrough",hotKey:"alt+d"},{cmd:"createLink",hotKey:"ctrl+h"},{cmd:"underline",hotKey:"alt+u"},{cmd:"justifyLeft",hotKey:"ctrl+j"},{cmd:"justifyCenter",hotKey:"ctrl+k"},{cmd:"justifyRight",hotKey:"ctrl+l"},{cmd:"subscript",hotKey:"alt+b"},{cmd:"superscript",hotKey:"alt+s"},{cmd:"fontSize",valList:["1","2","3","4","5","6","7"],hotKey:["alt+1","alt+2","alt+3","alt+4","alt+5","alt+6","alt+7"]}],plugins:[]}};function q(o){for(let e=0;e<o.length;e++){let n=o[e];if(n.indexOf("com-")!==-1)return n.split("-")[1]}return null}function R(o,e){o.classList.contains("savePart")?e.savePart=o.innerHTML:e.savePart=o.querySelectorAll(".savePart")[0].innerHTML}function re(){let o=document.getElementById("componentContainer").children,e={dataList:[]};for(let l=0;l<o.length-1;l++){const s=o[l];let r={component:"",savePart:null},a=[];if(s.children.length>=2){let c=s.children;for(let u=0;u<c.length;u++){let O=c[u],w={component:"",savePart:null};const B=q(O.classList);B!=null&&(w.component=B),w.component===""&&console.log("\u7F16\u7801\u51FA\u73B0\u9519\u8BEF\uFF01\u8BF7\u68C0\u67E5\u7EC4\u4EF6\u540D\u662F\u5426\u5728classList\u4E2D"),R(O,w),a.push(w)}}else{let c=q(s.children[0].classList);c!=null&&(r.component=c),R(s.children[0],r),a.push(r)}e.dataList.push(a)}let n=JSON.stringify(e);console.log(e);let i=document.getElementById("title").value,t=document.getElementById("tag").value;fetch("http://121.37.90.57:8000/postdata",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({tag:t,title:i,passage:n})}).then(l=>l.json()).then(l=>console.log(l)).catch(l=>console.log(l)),console.log(e)}const ce=["id"],de=["contenteditable"],N={setup(o){let e=j(),n=v(),i=I(()=>e.state.allowEdit),t=m(null);return h(()=>{let l="bg-slate-50";t.value.addEventListener("mouseenter",s=>{t.value.classList.add(l)}),t.value.addEventListener("mouseleave",s=>{t.value.classList.remove(l)}),t.value.addEventListener("input",s=>{t.value})}),(l,s)=>(b(),_("li",{id:p(n),class:"w-full flex mb-2 dragula-container"},[d("div",{ref_key:"input_div",ref:t,class:"w-full inline-block outline-none flex-grow input_div savePart com-inputbox drag",contenteditable:p(i)},null,8,de)],8,ce))}};function V(o,e,n){let i=v();const t="<li id="+i+' class="w-full flex mb-2 dragula-container newel"></li>';n!=null?(n.insertAdjacentHTML(o,t),document.getElementById(i).insertAdjacentElement("beforeend",e)):(document.getElementById("componentContainer").insertAdjacentHTML("beforeend",t),document.getElementById(i).insertAdjacentElement("beforeend",e))}function x(o){let e=o.childNodes;for(let n=0;n<e.length;n++)e[n].style.width=o.clientWidth/e.length+"px"}function T(o){let e=document.getElementById("editor"),n=document.getElementById("componentContainer");e.style.height=n.clientHeight+o+"px"}function y(o){if(o.childNodes[0]!=null){let e=document.createRange(),n=window.getSelection();e.setStart(o.childNodes[0],o.childNodes[0].length),e.collapse(!0),n.removeAllRanges(),n.addRange(e)}}function ue(){window.addEventListener("resize",()=>{Array.from(document.getElementById("componentContainer").children,o=>{x(o)})})}function pe(o){g.bind("enter+shift",e=>{if(e.preventDefault(),e.target.innerHTML[0]!="/")new Promise((n,i)=>{o.commit("ADD_COMPONENT",N),n()}).then(()=>{let n=document.activeElement;if(n.classList.contains("input_div")){let i=document.getElementById("componentContainer").children,t=[];for(let l=0;l<i.length;l++)t.push(i[l]);n.parentNode.insertAdjacentElement("afterend",t[t.length-1]),t[t.length-1].childNodes[0].focus()}});else{let n=e.target.innerHTML.substring(1);new Promise((i,t)=>{F(n,o)?i():alert("\u547D\u4EE4\u627E\u4E0D\u5230\uFF01")}).then(()=>{let i=document.activeElement,t=document.getElementById("componentContainer").children,l=[];for(let s=0;s<t.length;s++)l.push(t[s]);i.parentNode.insertAdjacentElement("afterend",l[l.length-1]),i.parentNode.parentNode.removeChild(i.parentNode)})}}),g.bind("backspace",e=>{if(e.target.innerHTML=="")if(e.target.parentNode.childNodes.length>1){let n=e.target.parentNode.childNodes,i=Array.from(n).indexOf(e.target)-1;if(typeof n[i]!="undefined"){n[i].focus(),new Promise((l,s)=>{setTimeout(()=>{l()},100)}).then(()=>{y(n[i])});let t=e.target.parentNode;e.target.parentNode.removeChild(e.target),x(t),T(600)}}else{let n=e.target.parentNode,i=Array.from(document.getElementById("componentContainer").children);if(i.length>2){let t=i.indexOf(n)-1;typeof i[t]!="undefined"&&(i[t].childNodes[0].focus(),new Promise((l,s)=>{setTimeout(()=>{l()},100)}).then(()=>{y(i[t].childNodes[0])}),n.parentNode.removeChild(n),T(600))}}})}function fe(){let o=H.hotkeySettings.base;for(let e=0;e<o.length;e++){let n=o[e],i=n.cmd,t=n.valList,l=n.hotKey;if(typeof t=="undefined")i!="createLink"?g.bind(l,s=>{s.preventDefault(),document.execCommand(i)}):g.bind(l,s=>{s.preventDefault();let r=prompt("\u8F93\u5165\u4F60\u7684\u8D85\u94FE\u63A5:",""),a="";r==null||r==""?console.log("\u672A\u8F93\u5165\u94FE\u63A5\u64CD\u4F5C\u53D6\u6D88\uFF01"):(a=r,document.execCommand(i,!1,a))});else for(let s=0;s<t.length;s++){let r=t[s];g.bind(l[s],a=>{a.preventDefault(),document.execCommand(i,!1,r)})}}}function me(){g.bind("ctrl+s",o=>{o.preventDefault(),re()})}function E(o,e,n){o.addEventListener("mouseenter",i=>{n.value=!0}),o.addEventListener("mouseleave",i=>{n.value=!1}),e.addEventListener("mouseenter",i=>{n.value=!0}),e.addEventListener("mouseleave",i=>{n.value=!1})}function W(o){o.have_input_com=!1,o.input_el=null;let e=o.childList;for(let n=0;n<e.length;n++){let i=e[n];if(!i.classList.contains("no_inputBox")){o.have_input_com=!0,o.input_el=i;break}}return o}function C(o){let e=o.target.parentNode.parentNode.parentNode,n=o.target.parentNode.parentNode,i=e.children;if(i.length>=2){let t=W({have_input_com:!1,input_el:null,childList:i});if(t.have_input_com==!1&&t.input_el==null){let l=function(r){if(r.have_input_com==!1&&r.input_el==null){let a=r.childList[0].parentNode;a.nextSibling!=null&&(r.childList=a.nextSibling.children,r=W(r)),l(r)}return r},s=l(t).input_el;s.tagName!="span"&&(s.focus(),y(s)),n.parentNode.removeChild(n),x(e)}else{let l=t.input_el;l.focus(),y(l),n.parentNode.removeChild(n),x(e)}}else{let t=function(s){return s.nextSibling.children[0].tagName!="span"&&s.nextSibling.children[0].classList.contains("no_inputBox")&&(s=s.nextSibling,t(s)),s.nextSibling},l=t(e);l.classList.contains("no")||(l.children[0].focus(),y(l.children[0])),e.parentNode.removeChild(e)}}function S(o){new Promise((e,n)=>{setTimeout(()=>{e()},100)}).then(()=>{o()})}function A(o,e){return document.getElementById(o).querySelector(e)}const be=["id"],_e=["id"],he=$('<div class="max-w-full"><div class="w-full h-5 bg-slate-600 max-w-full"><div class="flex items-center h-full w-16 justify-around"><p class="rounded-full bg-red-500 w-3 h-3"></p><p class="rounded-full bg-yellow-500 w-3 h-3"></p><p class="rounded-full bg-green-500 w-3 h-3"></p></div></div><pre><code class="language-javascript outline-none min-h-min" contenteditable="true"></code></pre></div>',1),ve=[he],ge={setup(o){h(()=>{z.highlightAll()});let e=v(),n=v(),i=m(!1),t=m(null),l=m(null);h(()=>{let a=l.value,c=t.value;E(a,c,i)});function s(a){C(a)}function r(){z.highlightAll()}return h(()=>{S(()=>{A(n,"#box")})}),(a,c)=>{const u=L("ion-icon");return b(),_("li",{id:p(e),ref:"input_li",class:"w-full flex mb-2 dragula-container"},[d("div",{id:p(n),class:"w-full no_inputBox flex flex-grow com-code drag"},[k(d("p",{ref_key:"ctrl_plane",ref:t,class:"shadow-md rounded-md bg-white flex items-center com-code flex-grow-0 space-x-1 w-16 justify-center mr-6"},[f(u,{name:"hand-left-outline",class:"handle"}),f(u,{name:"close-circle-outline",onClick:s}),f(u,{name:"refresh-circle-outline",onClick:r})],512),[[P,p(i)]]),d("div",{ref_key:"content",ref:l,class:"flex-grow h-full savePart w-full"},ve,512)],8,_e)],8,be)}}};var xe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ge});const ye=["id"],we=["id"],Le=d("div",{class:"w-full h-full flex justify-center"},[d("div",{id:"box",contenteditable:"true",class:"outline-none h-full"})],-1),ke=[Le],Pe={setup(o){let e=v(),n=v(),i=m(!1),t=m(null),l=m(null);h(()=>{let a=l.value,c=t.value;E(a,c,i)});function s(a){C(a)}function r(){}return h(()=>{S(()=>{A(n,"#box")})}),(a,c)=>{const u=L("ion-icon");return b(),_("li",{id:p(e),ref:"input_li",class:"w-full flex mb-2 dragula-container"},[d("div",{id:p(n),class:"w-full no_inputBox flex flex-grow com-interval drag"},[k(d("p",{ref_key:"ctrl_plane",ref:t,class:"shadow-md rounded-md bg-white flex items-center com-interval flex-grow-0 space-x-1 w-16 justify-center mr-6"},[f(u,{name:"hand-left-outline",class:"handle"}),f(u,{name:"close-circle-outline",onClick:s}),f(u,{name:"refresh-circle-outline",onClick:r})],512),[[P,p(i)]]),d("div",{ref_key:"content",ref:l,class:"flex-grow h-full savePart"},ke,512)],8,we)],8,ye)}}};var Ne=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Pe});const Ee=["id"],Ce={class:"w-full no_inputBox flex flex-grow space-x-6 com-ol drag"},Te=d("div",{contenteditable:"true",class:"outline-none h-full w-full"},[d("ul",{class:"list-decimal"},[d("li")])],-1),Se=[Te],Ae={setup(o){let e=v(),n=m(!1),i=m(null),t=m(null);h(()=>{let r=t.value,a=i.value;E(r,a,n)});function l(r){C(r)}function s(){}return(r,a)=>{const c=L("ion-icon");return b(),_("li",{id:p(e),ref:"input_li",class:"w-full flex mb-2 dragula-container"},[d("div",Ce,[k(d("p",{ref_key:"ctrl_plane",ref:i,class:"shadow-md rounded-md bg-white flex items-center com-ol flex-grow-0 space-x-1 justify-center"},[f(c,{name:"hand-left-outline",class:"handle"}),f(c,{name:"close-circle-outline",onClick:l}),f(c,{name:"refresh-circle-outline",onClick:s})],512),[[P,p(n)]]),d("div",{ref_key:"content",ref:t,class:"flex-grow h-full savePart"},Se,512)])],8,Ee)}}};var Oe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ae});const Be=["id"],$e=["id"],Ie={setup(o){let e=v(),n=v(),i=m(!1),t=m(null),l=m(null);h(()=>{let a=l.value,c=t.value;E(a,c,i)});function s(a){C(a)}function r(){}return h(()=>{S(()=>{A(n,"#box")})}),(a,c)=>{const u=L("ion-icon");return b(),_("li",{id:p(e),ref:"input_li",class:"w-full flex mb-2 dragula-container"},[d("div",{id:p(n),class:"w-full no_inputBox flex flex-grow com-template drag"},[k(d("p",{ref_key:"ctrl_plane",ref:t,class:"shadow-md rounded-md bg-white flex items-center com-template flex-grow-0 space-x-1 w-16 justify-center mr-6"},[f(u,{name:"hand-left-outline",class:"handle"}),f(u,{name:"close-circle-outline",onClick:s}),f(u,{name:"refresh-circle-outline",onClick:r})],512),[[P,p(i)]]),d("div",{ref_key:"content",ref:l,class:"flex-grow h-full savePart"},null,512)],8,$e)],8,Be)}}};var je=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ie});function F(o,e){let i=Object.values({"./../../components/plug-in/Code.vue":xe,"./../../components/plug-in/Interval.vue":Ne,"./../../components/plug-in/Ol.vue":Oe,"./../../components/plug-in/Template.vue":je}),t=!0;for(let l=0;l<i.length;l++){let s=i[l].default,r="";{let a=s.setup.toString();r=a.substring(a.indexOf("com-")+4).split(" ")[0]}if(o.toLowerCase()===r){e.commit("ADD_COMPONENT",s);break}l==i.length-1&&(t=!1)}return t}const ze={},Me={class:"no h-10"},De=d("span",null,null,-1),Ke=[De];function He(o,e){return b(),_("li",Me,Ke)}var J=K(ze,[["render",He]]);function qe(){let o=document.getElementById("componentContainer").children;for(let e=0;e<o.length;e++){const n=o[e];n.innerHTML==""&&n.parentNode.removeChild(n)}}function Re(o){o.commit("SET_INITLIST");let e=ae.dataList;new Promise((n,i)=>{for(let t=0;t<e.length;t++){let l=e[t];for(let s=0;s<l.length;s++){let r=l[s],a=r.component.toLowerCase();r.savePart,a=="inputbox"?o.commit("ADD_COMPONENT",N):F(a,o)}}n()}).then(()=>{let n=0,i=document.getElementById("componentContainer").children;for(let t=0;t<e.length;t++){const l=e[t];let s=n+l.length,r=0,a=null;for(n;n<s;n++){let c=i[n].querySelectorAll(".savePart")[0],u=i[n].querySelectorAll(".drag")[0];c.innerHTML=l[r].savePart,r!=0?a.append(u):a=i[n],r++}}qe(),o.commit("ADD_COMPONENT",J)})}const Ve={class:"w-full h-screen flex flex-row mt-16 sm:mt-7"},We=d("div",{class:"sm:w-1/5 sm:h-full sm:grow-0"},null,-1),Fe={id:"editor",class:"w-2/4 grow shadow-xl bg-white mt-1 rounded-md p-5",style:{"border-width":"1px",height:"700px"}},Je={id:"componentContainer"},Ye=d("div",{class:"sm:w-1/5 sm:grow-0"},null,-1),Ge={setup(o){let e=j(),n=I(()=>e.state.loadList);return h(()=>{Re(e),pe(e),fe(),me(),ue();let i=!1;g.bind(H.hotkeySettings.allow_drag_key,t=>{i=!0},t=>{i=!1}),g.bind("ctrl+r",t=>{t.preventDefault(),e.commit("SET_ALLOWEDIT")}),Y([document.getElementById("componentContainer")],{isContainer:function(t){return t.classList.contains("dragula-container")},moves:function(t,l,s,r){let a=!1;return t.classList.contains("no_inputBox")?a=s.classList.contains("handle"):a=i,a},invalid:function(t,l){return t.classList.contains("no")},ignoreInputTextSelection:!0}).on("drop",(t,l,s,r)=>{s.parentNode.id=="componentContainer"&&l.classList.contains("dragula-container")&&(console.log("\u5927\u5BB9\u5668\u8FDB\u5165\u5C0F\u5BB9\u5668"),s.innerHTML==""&&s.parentNode.removeChild(s),x(l)),s.childNodes.length>=1&&l.id=="componentContainer"&&(console.log("\u5C0F\u5BB9\u5668\u8FDB\u5165\u5927\u5BB9\u5668"),V("afterend",t,s),x(s),x(t.parentNode)),s.childNodes.length<1&&l==s.parentNode&&(console.log("\u4E0A\u4E0B\u4EA4\u6362"),new Promise((a,c)=>{V("beforebegin",t,r),a()}).then(()=>{let a=Array.from(document.getElementById("componentContainer").children);for(let c=0;c<a.length;c++)a[c].innerHTML==""&&a[c].parentNode.removeChild(a[c]),a[c].classList.contains("no")&&a.indexOf(a[c])!=a.length-1&&(a[c].parentNode.removeChild(a[c]),document.getElementById("componentContainer").insertAdjacentHTML("beforeend",'<li class="no h-10"><span></span></li>'))}))})}),(i,t)=>(b(),_("div",Ve,[We,d("div",Fe,[d("ul",Je,[(b(),M(U,null,[(b(!0),_(D,null,G(p(n),(l,s)=>(b(),M(Q(l),{key:s}))),128))],1024))])]),Ye]))}};const Ue={setup(o){return(e,n)=>(b(),_(D,null,[f(se),f(Ge)],64))}},Qe=X({state:{loadList:[N,N,J],postdata:{tag:"",title:"",passage:""},allowEdit:!0},getters:{},mutations:{ADD_COMPONENT(o,e){o.loadList.push(e),T(600)},SET_ALLOWEDIT(o){o.allowEdit=!o.allowEdit},SET_INITLIST(o){o.loadList=[]},SET_POST_TAG(o,e){o.postdata.tag=e},SET_POST_TITLE(o,e){o.postdata.title=e},SET_POST_PASSAGE(o,e){o.postdata.passage=e}},actions:{}});Z(Ue).use(Qe).mount("#app");
